{% extends "base.html" %}
{% block contents %}

{% load position %}

{% if field %}

<h1>{{ field.name }} <small>{{ field.description }}</small></h1>

<hr />

<table style="text-align: left; margin-bottom: 1em;">
  <tr>
    <th style="padding-right: 1em;">Right Ascension</th>
    <td>{{ field.ra|format_angle:"time" }}</td>
  </tr>
  <tr>
    <th>Declination</th>
    <td>{{field.dec|format_angle:"dms" }}</td>
  </tr>
</table>

<p>This field is part of the <strong>{{ field.survey.name }}</strong>
survey. It has been observed on {{ field.beam_set.count }} separate
occasions.</p>

{% if field.calibrator %}
  <p>This field is a calibrator.</p>
{% endif %}

<table class="table table-condensed table-striped">
  <thead>
    <tr>
      <th>Observation</th>
      <th>Beam</th>
      <th>Date</th>
      <th>Duration (seconds)</th>
      <th>Archived</th>
    </tr>
  </thead>
  {% for beam in field.beam_set.all %}
  <tr>
    <td><a href="{{ beam.observation.get_absolute_url }}">{{ beam.observation.obsid }}</a></td>
    <td>{{ beam.beam }}</td>
    <td>{{ beam.observation.start_time|date:"Y-m-d H:i:s" }}</td>
    <td>{{ beam.observation.duration }}</td>
    <td>{% if beam.observation.archive %}<i class="icon-ok"></i>{% else %}<i class="icon-remove"></i>{% endif %}</td>
  </tr>
  {% endfor %}
</table>

{% endif %}
{% endblock %}
